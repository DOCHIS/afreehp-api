app:
  timeout: 10
  handler: handler/app.handler
  layers:
    - { Ref: ModulesLambdaLayer }
  environment: ${file(.deploy/env/${opt:stage, self:provider.stage}.js)}
  events:
    - httpApi: "*"
connect:
  timeout: 10
  handler: handler/websocket.connect
  layers:
    - { Ref: ModulesLambdaLayer }
  environment: ${file(.deploy/env/${opt:stage, self:provider.stage}.js)}
  events:
    - websocket:
        route: $connect
disconnect:
  timeout: 10
  handler: handler/websocket.disconnect
  layers:
    - { Ref: ModulesLambdaLayer }
  environment: ${file(.deploy/env/${opt:stage, self:provider.stage}.js)}
  events:
    - websocket:
        route: $disconnect
message:
  timeout: 20
  handler: handler/websocket.message
  layers:
    - { Ref: ModulesLambdaLayer }
  environment: ${file(.deploy/env/${opt:stage, self:provider.stage}.js)}
  events:
    - websocket:
        route: $default